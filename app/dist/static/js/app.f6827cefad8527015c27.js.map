{"version":3,"sources":["webpack:///./src/libs/IndexedDB.js","webpack:///src/App.vue","webpack:///./src/App.vue?f91e","webpack:///./src/App.vue","webpack:///./src/components/TodoAdd.vue?9860","webpack:///./src/components/TodoAdd.vue","webpack:///src/components/TodoList.vue","webpack:///src/components/TodoAdd.vue","webpack:///./src/components/TodoList.vue?aeb6","webpack:///./src/components/TodoList.vue","webpack:///./src/router/index.js","webpack:///./src/store/actions.js","webpack:///./src/store/store.js","webpack:///./src/store/state.js","webpack:///./src/store/mutations.js","webpack:///./src/main.js"],"names":["IndexedDB","indexedDB","window","webkitindexedDB","msIndexedDB","mozIndexedDB","openDB","dbname","version","db","newStore","callback","request","this","open","onerror","event","console","log","onsuccess","target","result","onupgradeneeded","objectStoreNames","contains","name","createObjectStore","keyPath","key","deleteDB","deleteQuest","deleteDatabase","closeDB","close","addData","storename","dataArr","store","transaction","objectStore","i","len","length","add","error","putData","put","deleteData","delete","clearData","clear","getData","get","handleDataByCursor","keyRange","openCursor","cursor","handleDataByIndex","cursorIndex","index","sursorIndex","createCursorIndex","createIndex","unique","App","Object","data","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","components_TodoAdd","_vm","directives","rawName","value","expression","staticClass","type","domProps","on","keyup","$event","_k","keyCode","addTodo","input","composing","todoText","_v","click","TodoList","TodoAdd","TodoAdd_normalizeComponent","todoList","components_TodoList","_l","todo","checked","isCompleted","checkTodo","class","_s","text","todos","completedCounts","notCompletedCounts","src_components_TodoList","TodoList_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","actions","_ref","commit","dispatch","state","cTime","Date","_ref2","updateTodo2IndexedDB","_ref3","vuex_esm","Store","currUser","avatar","getters","mutations","importDataFromIdxDB","setCurrUser","user","logoutAccount","addNewUser","users","userList","push","deleteUser","coding","splice","resetMessageNumber","messages","number","deleteMessage","messageList","changeMessage","newLimit","limit","addNewTodo","unshift","deleteTodo","list","changeTodoState","time","cellClassName","config","productionTip","el","components","template","navigator","serviceWorker","register"],"mappings":"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","file":"static/js/app.f6827cefad8527015c27.js","sourcesContent":["// indexedDB.js，浏览器本地数据库操作\n\nexport default {\n    // indexedDB兼容\n    indexedDB: window.indexedDB || window.webkitindexedDB || window.msIndexedDB || mozIndexedDB,\n    // 打开数据库\n    // 新对象储存空间newStore参数：newStore.name、newStore.key\n    // 新增对象存储空间要更改数据库版本\n    openDB: function (dbname, version, db, newStore, callback) {\n        var version = version || 1;\n        var request = this.indexedDB.open(dbname, version);\n        request.onerror = function (event) {\n            console.log('IndexedDB数据库打开错误');\n        };\n        request.onsuccess = function (event) {\n            db = event.target.result;\n            if (callback && (typeof callback === 'function')) {\n                callback(db);\n            }\n        };\n        // onupgradeneeded，调用创建新的储存空间\n        request.onupgradeneeded = function (event) {\n            var db = event.target.result;\n            if (newStore) {\n                if (!db.objectStoreNames.contains(newStore.name)) {\n                    db.createObjectStore(newStore.name, {\n                        keyPath: newStore.key,\n                        // autoIncrement: true\n                    });\n                }\n            }\n        };\n    },\n    // 删除数据库\n    deleteDB: function (dbname, callback) {\n        var deleteQuest = this.indexedDB.deleteDatabase(dbname);\n        deleteQuest.onerror = function () {\n            console.log('删除数据库出错');\n        };\n        deleteQuest.onsuccess = function () {\n            if (callback && (typeof callback === 'function')) {\n                callback();\n            }\n        }\n    },\n    // 关闭数据库\n    closeDB: function (dbname) {\n        dbname.close();\n        console.log('数据库已关闭');\n    },\n    // 添加数据，add添加新值\n    addData: function (db, storename, dataArr, callback) {\n        var store = db.transaction(storename, 'readwrite').objectStore(storename),\n            request;\n        for (var i = 0, len = dataArr.length; i < len; i++) {\n            request = store.add(dataArr[i]);\n            request.onerror = function () {\n                console.error('ADD添加数据报错');\n            };\n            request.onsuccess = function () {\n                if (callback && (typeof callback === 'function')) {\n                    callback();\n                }\n            };\n        }\n    },\n    // 更新旧值\n    putData: function (db, storename, dataArr, callback) {\n        var store = db.transaction(storename, 'readwrite').objectStore(storename),\n            request;\n        for (var i = 0, len = dataArr.length; i < len; i++) {\n            request = store.put(dataArr[i]);\n            request.onerror = function () {\n                console.error('PUT添加数据报错');\n            };\n            request.onsuccess = function () {\n                if (callback && (typeof callback === 'function')) {\n                    callback();\n                }\n            };\n        }\n    },\n    // 删除数据\n    deleteData: function (db, storename, key) {\n        var store = db.transaction(storename, 'readwrite').objectStore(storename);\n        store.delete(key);\n    },\n    // 清空数据\n    clearData: function (db, storename) {\n        var store = db.transaction(storename, 'readwrite').objectStore(storename);\n        store.clear();\n    },\n    // 通过key获取数据\n    getData: function (db, storename, key, callback) {\n        var store = db.transaction(storename, 'readonly').objectStore(storename),\n            request;\n        request = store.get(key);\n        request.onerror = function () {\n            console.log('通过KEY获取数据报错');\n        };\n        request.onsuccess = function (event) {\n            var result = event.target.result;\n            if (callback && (typeof callback === 'function')) {\n                // 将查询结果传入回调函数\n                callback(result);\n            }\n        }\n    },\n    // 通过游标操作数据, callback中要有游标移动方式\n    handleDataByCursor: function (db, storename, callback, keyRange) {\n        var keyRange = keyRange || '';\n        var store = db.transaction(storename, 'readwrite').objectStore(storename),\n            request;\n        request = store.openCursor(keyRange);\n        request.onerror = function () {\n            console.log('通过游标获取数据报错');\n        };\n        request.onsuccess = function (event) {\n            var cursor = event.target.result;\n            // 操作cursor的方法有cursor.update(value)、cursor.delete()\n            if (cursor) {\n                if (callback && (typeof callback === 'function')) {\n                    // 将查询结果传入回调函数\n                    callback(cursor);\n                }\n                // 移动游标方式\n                // cursor.continue();\n            }\n        }\n    },\n    // 通过索引游标操作数据, callback中要有游标移动方式\n    handleDataByIndex: function (db, storename, cursorIndex, callback, keyRange) {\n        var keyRange = keyRange || '';\n        var store = db.transaction(storename, 'readwrite').objectStore(storename),\n            request;\n        request = store.index(sursorIndex).openCursor(keyRange);\n        request.onerror = function () {\n            console.log('通过索引游标获取数据报错');\n        };\n        request.onsuccess = function (event) {\n            var cursor = event.target.result;\n            if (cursor) {\n                if (callback && (typeof callback === 'function')) {\n                    // 将查询结果传入回调函数\n                    callback(cursor);\n                }\n                // 移动游标方式\n                // cursor.continue();\n            }\n        }\n    },\n    // 创建游标索引\n    createCursorIndex: function (db, storename, cursorIndex, callback) {\n        var store = db.transaction(storename, 'readwrite').objectStore(storename);\n        store.createIndex(cursorIndex, cursorIndex, { unique: false });\n        if (callback && (typeof callback === 'function')) {\n            // 将查询结果传入回调函数\n            callback();\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/libs/IndexedDB.js","<template>\n  <div id=\"app\">\n    <!-- <img src=\"./assets/logo.png\"> -->\n    <router-view/>\n  </div>\n</template>\n\n<script>\nimport IndexedDB from \"./libs/IndexedDB\";\nexport default {\n  name: \"App\",\n  data() {\n    return {};\n  },\n  created: function() {\n    // 本地存储数据库IdexedDB\n    let _this = this;\n    let vshopDB = null;\n    // 当前时间\n    // let date = new Date();\n    // let nowTime = date.getTime();\n    // let year = date.getFullYear();\n    // let nowMonth = date.getMonth();\n    // let month = date.getMonth() + 1;\n    // let day = date.getDate();\n    // function addZero(val) {\n    //   if (val < 10) {\n    //     val = \"0\" + val;\n    //   }\n    //   return val;\n    // }\n    // let today = year + \"-\" + addZero(month) + \"-\" + addZero(day);\n\n    // 打开IndexedDB数据库\n    IndexedDB.openDB('vshopDB', 1, vshopDB, {\n      name: 'vshop',\n      key: 'name'\n    }, function(db) {\n\n        IndexedDB.getData(db, \"vshop\", \"todo\", function(result) {\n          console.log(result);\n\n          if (result) {\n            let data = new Object();\n            data.name = \"todo\";\n            data.result = result;\n            // 将所有todo导入到\n            _this.$store.commit(\"importDataFromIdxDB\", data);\n\n          } else {\n            let todo = {\n              name: \"todo\",\n              todoList: []\n            };\n            IndexedDB.putData(db, \"vshop\", [todo]);\n          }\n        });\n      }\n    );\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d63db5ca\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d63db5ca\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d63db5ca\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"addTodo\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.todoText),expression:\"todoText\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"name\":\"\",\"value\":\"\"},domProps:{\"value\":(_vm.todoText)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.addTodo($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.todoText=$event.target.value}}}),_vm._v(\" \"),_c('button',{attrs:{\"type\":\"button\",\"name\":\"button\"},on:{\"click\":_vm.addTodo}},[_vm._v(\"\\n      Add\\n    \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6964101c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TodoAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6964101c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TodoAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TodoAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TodoAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6964101c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TodoAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6964101c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TodoAdd.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"todoList\">\n    <h1>Todo List</h1>\n    <todo-add v-on:add=\"addTodo\"></todo-add>\n    <ul class=\"todos\">\n      <li v-for=\"(todo, index) in todos\" class=\"todo\" :key=\"index\">\n        <input\n          type=\"checkbox\"\n          name=\"\"\n          value=\"\"\n          :checked=\"todo.isCompleted\"\n          @click=\"checkTodo(index)\"\n        >\n        <span\n          :class=\"todo.isCompleted ? 'completed' : ''\"\n          @click=\"checkTodo(index)\"\n        >\n          <em>{{ index + 1 }}.</em>{{ todo.text }}\n        </span>\n      </li>\n    </ul>\n    <div>\n      <p v-show=\"todos.length === 0\">Have No todos</p>\n      <p v-show=\"todos.length !== 0\">\n          <strong>{{todos.length}}</strong> task to do,\n          {{completedCounts}} have done.\n          {{notCompletedCounts}} not do.\n      </p>\n  </div>\n  </div>\n</template>\n\n<script>\nimport TodoAdd from \"./TodoAdd.vue\";\nexport default {\n  name: \"TodoList\",\n  components: {\n    TodoAdd\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    checkTodo(index) {\n      this.$store.dispatch(\"checkTodo\", index);\n    },\n    addTodo(todoText) {\n      this.$store.dispatch(\"addTodo\", todoText);\n    }\n  },\n  computed: {\n    completedCounts() {\n      return this.todos.filter(item => item.isCompleted).length;\n    },\n    notCompletedCounts() {\n      return this.todos.filter(item => !item.isCompleted).length;\n    },\n    todos: function() {\n      // 使用state中的todolist代替本地todolist\n      return this.$store.state.todo.todoList;\n    }\n  }\n};\n</script>\n\n<style scoped>\n#todoList {\n  margin: 0 auto;\n  max-width: 350px;\n}\n\n.todos li {\n  list-style: none;\n}\n\n.todo {\n  text-align: left;\n  cursor: pointer;\n}\n\n.completed {\n  text-decoration: line-through;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TodoList.vue","<template>\n  <div id=\"addTodo\">\n      <input\n        type=\"text\"\n        name=\"\"\n        class=\"input\"\n        value=\"\"\n        v-model=\"todoText\"\n        @keyup.enter=\"addTodo\"\n      >\n      <button\n        type=\"button\"\n        name=\"button\"\n        @click=\"addTodo\"\n      >\n        Add\n      </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"addTodo\",\n  data() {\n    return {\n      todoText: \"\"\n    };\n  },\n  methods: {\n    addTodo() {\n      if (this.todoText) {\n        this.$emit(\"add\", this.todoText);\n        this.todoText = \"\";\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.input {\n  min-width: 200px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TodoAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"todoList\"}},[_c('h1',[_vm._v(\"Todo List\")]),_vm._v(\" \"),_c('todo-add',{on:{\"add\":_vm.addTodo}}),_vm._v(\" \"),_c('ul',{staticClass:\"todos\"},_vm._l((_vm.todos),function(todo,index){return _c('li',{key:index,staticClass:\"todo\"},[_c('input',{attrs:{\"type\":\"checkbox\",\"name\":\"\",\"value\":\"\"},domProps:{\"checked\":todo.isCompleted},on:{\"click\":function($event){_vm.checkTodo(index)}}}),_vm._v(\" \"),_c('span',{class:todo.isCompleted ? 'completed' : '',on:{\"click\":function($event){_vm.checkTodo(index)}}},[_c('em',[_vm._v(_vm._s(index + 1)+\".\")]),_vm._v(_vm._s(todo.text)+\"\\n      \")])])})),_vm._v(\" \"),_c('div',[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.todos.length === 0),expression:\"todos.length === 0\"}]},[_vm._v(\"Have No todos\")]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.todos.length !== 0),expression:\"todos.length !== 0\"}]},[_c('strong',[_vm._v(_vm._s(_vm.todos.length))]),_vm._v(\" task to do,\\n        \"+_vm._s(_vm.completedCounts)+\" have done.\\n        \"+_vm._s(_vm.notCompletedCounts)+\" not do.\\n    \")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7721c55c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TodoList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7721c55c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TodoList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TodoList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TodoList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7721c55c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TodoList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7721c55c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TodoList.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport TodoList from '@/components/TodoList'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'todoList',\n      component: TodoList\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import IndexedDB from '../libs/IndexedDB'\n\nexport default {\n\n    // 添加新项\n    addTodo({ commit, state, dispatch }, todoText){\n        // 新的todo任务\n        const todoItem = {\n            text: todoText,\n            isCompleted: false,\n            cTime: new Date()\n        }\n        commit('addNewTodo', todoItem);\n        dispatch('updateTodo2IndexedDB');\n    },\n    // 修改第index项\n    checkTodo({ commit, state, dispatch }, index){\n        commit('checkTodo', index);\n        dispatch('updateTodo2IndexedDB');\n    },\n\n    // 更新IndexedDB中的todo\n    updateTodo2IndexedDB({ state }){\n        const vshopDB = null;\n        IndexedDB.openDB('vshopDB', 1, vshopDB, {\n            name: 'vshop',\n            key: 'name'\n        }, function (db) {\n            console.log(state.todo.todoList);\n            IndexedDB.putData(db, 'vshop', [state.todo]);\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue' \nimport Vuex from 'vuex'\nVue.use(Vuex)\n\n// // 引入数据\nimport state from './state'\nimport getters from './getters'\nimport mutations from './mutations'\nimport actions from './actions'\n\nexport default new Vuex.Store({\n    state,\n    getters,\n    mutations,\n    actions\n});\n\n\n// WEBPACK FOOTER //\n// ./src/store/store.js","export default {\n    // 待办事件列表\n    todo: {\n        name: 'todo',\n        todoList: []\n    },\n    // 当前用户\n    currUser: {\n        name: '未登录',\n        avatar: ''\n    },\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","export default {\n    // 将IndexedDB中数据写入vuex\n    importDataFromIdxDB (state, data) {\n        state[data.name] = data.result;\n    },\n    // 设置当前用户\n    setCurrUser (state, user) {\n        state.currUser = user;\n    },\n    // 当前用户退出登录\n    logoutAccount (state) {\n        state.currUser = {\n            name: '未登录',\n            avatar: ''\n        };\n    },\n    // 添加新用户\n    addNewUser (state, user) {\n        state.users.userList.push(user);\n    },\n    // 删除用户\n    deleteUser (state, index) {\n        if (state.users.userList[index].coding !== '000') {\n            state.users.userList.splice(index, 1);\n        }\n    },\n    // 重置新消息数字\n    resetMessageNumber (state) {\n        state.messages.number = 0;\n    },\n    // 删除消息通知\n    deleteMessage (state, index) {\n        state.messages.messageList.splice(index, 1);\n    },\n    // 设置消息通知\n    changeMessage (state, newLimit) {\n        for (let limit in newLimit) {\n            if (newLimit[limit]) {\n                state.messages[limit] = newLimit[limit];\n            }\n        }\n    },\n    // 添加新待办事件\n    addNewTodo (state, todo) {\n        state.todo.todoList.unshift(todo);\n    },\n    // 删除待办事件\n    deleteTodo (state, index) {\n        state.todo.todoList.splice(index, 1);\n    },\n    checkTodo (state, index){\n        let list = state.todo.todoList;\n        list[index].isCompleted = !list[index].isCompleted;\n    },\n    // 改变待办事件状态\n    changeTodoState (state, time) {\n        for (let i = 0, len = state.todo.todoList.length; i < len; i++) {\n            if (state.todo.todoList[i].time === time) {\n                state.todo.todoList[i].state = '已到期';\n                state.todo.todoList[i].cellClassName = {\n                    state: 'state-change'\n                };\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store/store'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\nif ('serviceWorker' in navigator) {\n  // register service worker\n  navigator.serviceWorker.register('./service-worker.js');\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}